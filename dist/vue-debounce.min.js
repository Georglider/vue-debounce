!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kyanite")):"function"==typeof define&&define.amd?define(["exports","kyanite"],t):t((e=e||self).vueDebounce={},e.kyanite)}(this,function(e,b){"use strict";function g(i,e){function t(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];clearTimeout(r),(r=setTimeout(function(){r=null,i.apply(e,t)},u))||i.apply(this,t)}var n,o,a,r=null,u="number"==typeof e?e:(n=String(e).split(/(ms|s)/i),o=n[0],void 0===(a=n[1])&&(a="ms"),Number(o)*{ms:1,s:1e3}[a]);return t.cancel=function(){clearTimeout(r),r=null},t}var k=b.map(b.toLower);var t={install:function(e,t){void 0===t&&(t={});var s=t.lock;void 0===s&&(s=!1);var d=t.listenTo;void 0===d&&(d="keyup");var m=t.defaultTime;void 0===m&&(m="300ms");var p=t.fireOnEmpty;void 0===p&&(p=!1);var y=t.cancelOnEmpty;void 0===y&&(y=!1),e.directive("debounce",{bind:function(t,e){var u=e.value,n=e.arg;void 0===n&&(n=m);var i,o,a,r=e.modifiers,c=Object.assign({fireonempty:p,cancelonempty:y,lock:s},r),l=(i=t.attributes,o=d,void 0===(a=(i.getNamedItem("debounce-events")||{}).value)&&(a=!1),k(a?a.split(","):b.ensureArray(o))),v=g(function(e){u(e.target.value,e)},n);function f(e){var t,n,i,o,a,r;a=e.target.value,r=c,b.isEmpty(a)&&r.cancelonempty?v.cancel():(i=e.key,o=c,"Enter"===i&&(!o.lock||o.unlock)||(t=e.target.value,n=c,b.isEmpty(t)&&n.fireonempty)?(v.cancel(),u(e.target.value,e)):v(e))}l.forEach(function(e){t.addEventListener(e,f)})}})}};e.debounce=g,e.default=t,Object.defineProperty(e,"__esModule",{value:!0})});
